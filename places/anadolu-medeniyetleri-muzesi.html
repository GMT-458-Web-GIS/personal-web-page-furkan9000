<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Anadolu Medeniyetleri Müzesi - Ankara</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol/ol.css">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    .museum-content {
      margin: 20px;
    }

    .museum-content h1 {
      text-align: center;
      color: #000;
    }

    .museum-content p {
      margin: 10px 0;
      line-height: 1.6;
    }

    .museum-images img {
      width: 80%;
      max-width: 800px;
      height: auto;
      display: block;
      margin: 10px auto;
      border-radius: 8px;
    }

    .museum-contents ul {
      list-style: disc;
      padding-left: 20px;
    }

    #map {
      width: 100%;
      height: 500px;
      margin-top: 20px;
      border-radius: 8px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #f5f5f5;
      padding: 15px;
      border-bottom: 2px solid #000;
    }

    header h1 {
      margin: 0;
      font-size: 24px;
    }

    header button {
      padding: 8px 16px;
      cursor: pointer;
      background-color: #000;
      color: white;
      border: none;
      border-radius: 5px;
    }

    .ol-popup {
      position: absolute;
      background-color: white;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      bottom: 12px;
      left: -50px;
      min-width: 180px;
    }

    .ol-popup:after, .ol-popup:before {
      top: 100%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
    }

    .ol-popup:after {
      border-top-color: white;
      border-width: 10px;
      left: 48px;
      margin-left: -10px;
    }

    .ol-popup:before {
      border-top-color: #ccc;
      border-width: 11px;
      left: 48px;
      margin-left: -11px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Anadolu Medeniyetleri Müzesi</h1>
    <button onclick="window.location.href='../index.html'">🏠 Ana Sayfa</button>
  </header>

  <main class="museum-content">
    <section class="museum-description">
      <h2>Müze Hakkında</h2>
      <p>Anadolu Medeniyetleri Müzesi: Ankara Kalesi'nin eteklerinde bulunan bu müze, Neolitik Çağ'dan başlayarak Hitit, Frig, Urartu ve diğer Anadolu medeniyetlerine ait eşsiz eserleri barındırır. Dünyanın en iyi müzeleri arasında gösterilen koleksiyonu, Hattilere ait güneş kursları, Hitit tabletleri ve Frig Kralı Midas'ın mezarından çıkan objeler gibi benzersiz parçaları içerir.</p>
    </section>

    <section class="museum-contents">
      <h2>Müze İçindekiler</h2>
      <ul>
        <li>Paleolitik Çağ Eserleri</li>
        <li>Neolitik Çağ Eserleri</li>
        <li>Hitit Dönemi Eserleri</li>
        <li>Frig Dönemi Eserleri</li>
        <li>Roma ve Bizans Dönemi Eserleri</li>
      </ul>
    </section>

    <section class="museum-images">
      <h2>Fotoğraflar</h2>
      <img src="../images/anadolu_medeniyetler_müzesi.jpg" alt="Müze 1">
    </section>

    <section class="museum-map">
      <h2>Harita</h2>
      <div id="map"></div>
    </section>
  </main>

  <!-- OpenLayers JS -->
  <script src="https://cdn.jsdelivr.net/npm/ol@latest/dist/ol.js"></script>
  <script>
    const museumLonLat = [32.8597, 39.925];

    const map = new ol.Map({
      target: 'map',
      layers: [
        new ol.layer.Tile({ source: new ol.source.OSM() })
      ],
      view: new ol.View({
        center: ol.proj.fromLonLat(museumLonLat),
        zoom: 16
      }),
      controls: ol.control.defaults().extend([
        new ol.control.Zoom(),
        new ol.control.FullScreen()
      ])
    });

    // Marker
    const marker = new ol.Feature({
      geometry: new ol.geom.Point(ol.proj.fromLonLat(museumLonLat))
    });

    const vectorSource = new ol.source.Vector({ features: [marker] });

    const markerLayer = new ol.layer.Vector({
      source: vectorSource,
      style: new ol.style.Style({
        image: new ol.style.Icon({
          src: 'https://cdn-icons-png.flaticon.com/512/684/684908.png',
          scale: 0.05
        })
      })
    });
    map.addLayer(markerLayer);

    // Popup overlay
    const container = document.createElement('div');
    container.className = 'ol-popup';
    container.innerHTML = '<strong>Anadolu Medeniyetleri Müzesi</strong><br>Ankara Kalesi\'nin eteklerinde bulunan müze.';
    document.body.appendChild(container);

    const overlay = new ol.Overlay({
      element: container,
      positioning: 'bottom-center',
      stopEvent: false,
      offset: [0, -25]
    });
    map.addOverlay(overlay);

    // Marker tıklayınca popup göster
    map.on('click', function(evt) {
      const feature = map.forEachFeatureAtPixel(evt.pixel, function(f) { return f; });
      if (feature === marker) {
        overlay.setPosition(feature.getGeometry().getCoordinates());
      } else {
        overlay.setPosition(undefined); // tıklama başka yere ise gizle
      }
    });
  </script>
</body>
</html>
